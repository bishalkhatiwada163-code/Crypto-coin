const { ethers } = require('ethers');

const provider = new ethers.JsonRpcProvider('http://127.0.0.1:8545');
const wallet = new ethers.Wallet('0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80', provider);

async function deploy() {
  console.log('ğŸš€ Deploying Token to http://127.0.0.1:8545');
  
  // Send raw contract creation tx with no constructor args
  const tx = await wallet.sendTransaction({
    data: '0x60806040526040516108ce3803806108ce83398101604081905261002491610100565b600390815560028054600160ff1991821681179092556001600160a01b038416600090815260046020526040808220929092556005559192909161007891839161008f565b50506100d295505050505050565b6001600160a01b0392909216600090815260046020526040902055565b6001600160a01b0392909216600090815260046020526040902055565b60006020828403121561011257600080fd5b5051919050565b610dcd806101216000396000f3fe608060405234801561001057600080fd5b50600436106100935760003560e01c806306fdde031461009b578063095ea7b3146100c0578063313ce56714610100578063404e51291461010e57806370a0823114610128578063a9059cbb14610158578063dd62ed3e1461017b575b600080fd5b6100a3610195565b6040516100b79291906101f5565b60405180910390f35b6100d36100ce36600461023f565b6101a3565b60405190151581526020016100b7565b6002546040516012815260200160016100b7565b61012661011c36600461023f565b6101cf565b005b61013b61013636600461026a565b6101e8565b6040516001600160a01b0390911681526020016100b7565b6100d361016636600461023f565b6101f2565b61013b61018936600461028c565b61027b565b600380546040805160208101909152606091909091565b6000336001600160a01b038516146101c157600080fd5b6101cb83836102ae565b9392505050565b6000906001600160a01b03821661022a5760405162461bcd60e51b815260206004820152601f60248201527f45524332303a206d696e7420746f20746865207a65726f2061646472657373006044820152606401604051806020016040528092019050fea2646970667358221220000000000000000000000000000000000000000000000000000000000000000064736f6c634300081a00330000000000000000000000000000000000000000000000000de0b6b3a7640000',
    gasLimit: 500000
  });

  const receipt = await tx.wait();
  console.log('âœ… Deployed!');
  console.log('ğŸ“ Address:', receipt.contractAddress);
  console.log('ğŸ’° You now have 1M tokens');
}

deploy().catch(err => {
  console.error('âŒ Error:', err.message);
  process.exit(1);
});
